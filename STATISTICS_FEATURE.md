# Функционал просмотра статистики привычек

## Описание
Реализован полный функционал просмотра статистики привычек в телеграм-боте трекера привычек.

## Как работает
1. **Выбор действия**: Пользователь нажимает кнопку "Статистика" в главном меню
2. **Выбор привычки**: Бот показывает список всех привычек пользователя
3. **Просмотр статистики**: После выбора привычки бот показывает:
   - Название привычки
   - Общее количество выполнений
   - Дату создания привычки
   - Дату последнего выполнения (или "Не выполнялась")

## Реализованные изменения

### 1. Добавлено новое состояние в `states.py`
```python
class StatsHabitStates(StatesGroup):
    """Состояния для просмотра статистики привычек"""
    waiting_for_habit_choice = State()  # Ожидание выбора привычки для просмотра статистики
```

### 2. Добавлена новая клавиатура в `keyboards.py`
```python
def get_stats_habits_reply_keyboard(habits):
    """Обычная клавиатура со списком привычек для просмотра статистики"""
    # Создает кнопки для каждой привычки
```

### 3. Обновлены обработчики в `handlers.py`
- `show_stats_start()` - начало процесса просмотра статистики
- `process_stats_habit_choice()` - обработка выбора привычки для статистики
- Обновлены импорты для поддержки новых состояний и клавиатур

## Особенности реализации
- Использует обычные кнопки (ReplyKeyboardMarkup) вместо инлайн-кнопок для консистентности с остальным интерфейсом
- Автоматически очищает состояние после показа статистики
- Возвращает пользователя в главное меню после просмотра статистики
- Поддерживает кнопку "Отмена" для возврата в главное меню
- Форматирует даты для удобного отображения

## Тестирование
Функционал протестирован и работает корректно. База данных корректно возвращает все необходимые данные для отображения статистики.

## Использование
1. Запустите бота командой `python3 main.py`
2. Нажмите "Статистика" в главном меню
3. Выберите привычку из списка
4. Просмотрите статистику
5. Вернитесь в главное меню для продолжения работы 